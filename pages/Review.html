<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultra Pro Max Reviews - Camva Pro</title>
    <meta name="description" content="Professional reviews system with advanced filtering, carousel display and modern UI design">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700;800&family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Font Awesome Pro -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <style>
        :root {
            /* Ultra Modern Color Palette */
            --primary: #667eea;
            --primary-dark: #5a67d8;
            --primary-light: #a3bffa;
            
            --secondary: #764ba2;
            --accent: #f093fb;
            --accent-dark: #f093fb;
            
            /* Gradients */
            --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-secondary: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --gradient-accent: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --gradient-success: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            --gradient-dark: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
            
            /* Status Colors */
            --success: #10b981;
            --error: #f56565;
            --warning: #ed8936;
            --info: #4299e1;
            
            /* Grays */
            --gray-50: #f7fafc;
            --gray-100: #edf2f7;
            --gray-200: #e2e8f0;
            --gray-300: #cbd5e0;
            --gray-400: #a0aec0;
            --gray-500: #718096;
            --gray-600: #4a5568;
            --gray-700: #2d3748;
            --gray-800: #1a202c;
            --gray-900: #171923;
            
            /* Base Colors */
            --white: #ffffff;
            --black: ##00008B;
            --surface: #ffffff;
            --background: #f8fafc;
            
            /* Shadows */
            --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            --shadow-colored: 0 20px 40px -10px rgba(102, 126, 234, 0.3);
            
            /* Border Radius */
            --radius-sm: 0.375rem;
            --radius-md: 0.5rem;
            --radius-lg: 0.75rem;
            --radius-xl: 1rem;
            --radius-2xl: 1.5rem;
            --radius-full: 9999px;
            
            /* Transitions */
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-fast: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-bounce: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            
            /* Typography */
            --font-sans: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            --font-display: 'Space Grotesk', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            
            /* Z-Index Scale */
            --z-dropdown: 1000;
            --z-sticky: 1020;
            --z-fixed: 1030;
            --z-modal: 1040;
            --z-tooltip: 1070;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px;
        }

        body {
            font-family: var(--font-sans);
            line-height: 1.6;
            color: var(--gray-800);
            background: var(--background);
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }

        /* =============== HEADER =============== */
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--gray-200);
            position: sticky;
            top: 0;
            z-index: var(--z-sticky);
            transition: var(--transition);
        }

        .nav {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem 0;
        }

        .logo {
            font-family: var(--font-display);
            font-size: 1.75rem;
            font-weight: 800;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
            align-items: center;
        }

        .nav-link {
            color: var(--gray-700);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            position: relative;
        }

        .nav-link:hover {
            color: var(--primary);
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -0.25rem;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--gradient-primary);
            transition: width 0.3s ease;
        }

        .nav-link:hover::after {
            width: 100%;
        }

        .cta-button {
            background: var(--gradient-primary);
            color: var(--white);
            padding: 0.75rem 1.5rem;
            border-radius: var(--radius-full);
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition);
            box-shadow: var(--shadow-md);
            border: none;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-colored);
        }

        /* =============== MAIN CONTENT =============== */
        .main {
            padding: 3rem 0;
        }

        .hero-section {
            text-align: center;
            margin-bottom: 4rem;
        }

        .hero-title {
            font-family: var(--font-display);
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 800;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1.5rem;
            line-height: 1.2;
        }

        .hero-subtitle {
            font-size: 1.25rem;
            color: var(--gray-600);
            max-width: 600px;
            margin: 0 auto 2rem;
            line-height: 1.6;
        }

        .hero-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .hero-stat {
            background: var(--white);
            padding: 2rem 1.5rem;
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-md);
            transition: var(--transition);
            border: 1px solid var(--gray-200);
        }

        .hero-stat:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-xl);
        }

        .hero-stat-number {
            font-family: var(--font-display);
            font-size: 2.5rem;
            font-weight: 800;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1;
            margin-bottom: 0.5rem;
        }

        .hero-stat-label {
            color: var(--gray-600);
            font-weight: 600;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* =============== STATUS INDICATOR =============== */
        .status-indicator {
            position: fixed;
            top: 6rem;
            right: 1.5rem;
            background: var(--white);
            padding: 0.75rem 1rem;
            border-radius: var(--radius-full);
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--gray-200);
            z-index: var(--z-fixed);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
            font-weight: 600;
            transition: var(--transition);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
        }

        .status-indicator.online {
            color: var(--success);
            border-color: rgba(16, 185, 129, 0.3);
        }

        .status-indicator.loading {
            color: var(--info);
            border-color: rgba(66, 153, 225, 0.3);
        }

        .status-indicator.error {
            color: var(--error);
            border-color: rgba(245, 101, 101, 0.3);
        }

        /* =============== TABS =============== */
        .tabs-container {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 3rem;
        }

        .tab-button {
            background: var(--white);
            border: 2px solid var(--gray-200);
            padding: 1rem 2rem;
            border-radius: var(--radius-xl);
            font-size: 1rem;
            font-weight: 600;
            color: var(--gray-700);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            box-shadow: var(--shadow-sm);
        }

        .tab-button:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
            border-color: var(--primary-light);
        }

        .tab-button.active {
            background: var(--gradient-primary);
            color: var(--white);
            border-color: transparent;
            transform: translateY(-2px);
            box-shadow: var(--shadow-colored);
        }

        .tab-badge {
            background: rgba(255, 255, 255, 0.2);
            padding: 0.25rem 0.5rem;
            border-radius: var(--radius-full);
            font-size: 0.75rem;
            min-width: 1.5rem;
            text-align: center;
        }

        .tab-button.active .tab-badge {
            background: rgba(255, 255, 255, 0.3);
        }

        .tab-button:not(.active) .tab-badge {
            background: var(--gray-200);
            color: var(--gray-700);
        }

        /* =============== TAB CONTENT =============== */
        .tab-content {
            display: none;
            animation: fadeInUp 0.6s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(2rem);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* =============== FORM SECTION =============== */
        .form-container {
            max-width: 800px;
            margin: 0 auto;
            background: var(--white);
            border-radius: var(--radius-2xl);
            padding: 3rem;
            box-shadow: var(--shadow-xl);
            border: 1px solid var(--gray-200);
        }

        .form-header {
            text-align: center;
            margin-bottom: 2.5rem;
        }

        .form-title {
            font-family: var(--font-display);
            font-size: 2rem;
            font-weight: 700;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
        }

        .form-subtitle {
            color: var(--gray-600);
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        .form-label {
            display: block;
            font-weight: 600;
            color: var(--gray-800);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-label.required::after {
            content: '*';
            color: var(--error);
            font-weight: 400;
        }

        .form-input,
        .form-select,
        .form-textarea {
            width: 100%;
            padding: 0.875rem 1rem;
            border: 2px solid var(--gray-300);
            border-radius: var(--radius-lg);
            background: var(--white);
            color: var(--gray-800);
            font-size: 1rem;
            transition: var(--transition);
            font-family: inherit;
        }

        .form-input:focus,
        .form-select:focus,
        .form-textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
            transform: translateY(-1px);
        }

        .form-input:hover,
        .form-select:hover,
        .form-textarea:hover {
            border-color: var(--gray-400);
        }

        .form-textarea {
            min-height: 120px;
            resize: vertical;
            line-height: 1.6;
        }

        .form-select {
            cursor: pointer;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%234a5568' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
            background-position: right 0.5rem center;
            background-repeat: no-repeat;
            background-size: 1.5em 1.5em;
            padding-right: 2.5rem;
        }

        .character-counter {
            text-align: right;
            font-size: 0.875rem;
            color: var(--gray-500);
            margin-top: 0.5rem;
            font-weight: 500;
        }

        .character-counter.warning {
            color: var(--warning);
        }

        .character-counter.danger {
            color: var(--error);
        }

        /* =============== RATING SYSTEM =============== */
        .rating-container {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%);
            border: 2px solid var(--gray-200);
            border-radius: var(--radius-xl);
            padding: 2rem;
            text-align: center;
            margin-bottom: 1rem;
        }

        .rating-stars {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .rating-star {
            font-size: 2rem;
            color: var(--gray-300);
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
        }

        .rating-star:hover,
        .rating-star.active {
            color: #fbbf24;
            transform: scale(1.1);
            filter: drop-shadow(0 4px 8px rgba(251,191,36,0.4));
        }

        .rating-star:hover ~ .rating-star {
            transform: scale(0.95);
        }

        .rating-text {
            font-size: 1.1rem;
            color: var(--gray-600);
            font-weight: 600;
            min-height: 1.5rem;
            transition: var(--transition);
        }

        .rating-text.selected {
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 700;
        }

        /* =============== SUBMIT BUTTON =============== */
        .submit-button {
            width: 100%;
            background: var(--gradient-primary);
            color: var(--white);
            border: none;
            padding: 1rem 2rem;
            border-radius: var(--radius-xl);
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--shadow-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .submit-button:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-colored);
        }

        .submit-button:active {
            transform: translateY(0);
        }

        .submit-button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        .submit-spinner {
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: var(--white);
            animation: spin 1s linear infinite;
            display: none;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* =============== ALERTS =============== */
        .alert {
            padding: 1rem 1.25rem;
            border-radius: var(--radius-lg);
            margin: 1rem 0;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            animation: slideInDown 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .alert-success {
            background: rgba(16, 185, 129, 0.1);
            color: #065f46;
            border-left: 4px solid var(--success);
        }

        .alert-error {
            background: rgba(245, 101, 101, 0.1);
            color: #991b1b;
            border-left: 4px solid var(--error);
        }

        .alert-warning {
            background: rgba(237, 137, 54, 0.1);
            color: #92400e;
            border-left: 4px solid var(--warning);
        }

        .alert-info {
            background: rgba(66, 153, 225, 0.1);
            color: #1e40af;
            border-left: 4px solid var(--info);
        }

        @keyframes slideInDown {
            from {
                opacity: 0;
                transform: translateY(-1rem);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* =============== REVIEWS SECTION =============== */
        .reviews-section {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* =============== FILTERS =============== */
        .filters-container {
            background: var(--white);
            border-radius: var(--radius-2xl);
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--gray-200);
        }

        .filters-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .filters-title {
            font-family: var(--font-display);
            font-size: 1.5rem;
            font-weight: 700;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .filters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .filter-label {
            font-weight: 600;
            color: var(--gray-700);
            font-size: 0.875rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .filter-select,
        .filter-input {
            padding: 0.75rem;
            border: 2px solid var(--gray-300);
            border-radius: var(--radius-lg);
            background: var(--white);
            color: var(--gray-800);
            font-size: 0.875rem;
            transition: var(--transition);
        }

        .filter-select:focus,
        .filter-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .search-container {
            position: relative;
            grid-column: 1 / -1;
        }

        .search-input {
            width: 100%;
            padding: 1rem 1rem 1rem 2.5rem;
            border: 2px solid var(--gray-300);
            border-radius: var(--radius-xl);
            background: var(--white);
            font-size: 1rem;
            transition: var(--transition);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        }

        .search-icon {
            position: absolute;
            left: 0.875rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray-400);
        }

        /* =============== STATS DASHBOARD =============== */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .stat-card {
            background: var(--white);
            padding: 2rem 1.5rem;
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--gray-200);
            text-align: center;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-primary);
        }

        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-xl);
        }

        .stat-icon {
            width: 3rem;
            height: 3rem;
            margin: 0 auto 1rem;
            background: var(--gradient-primary);
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-size: 1.25rem;
        }

        .stat-number {
            font-family: var(--font-display);
            font-size: 2.5rem;
            font-weight: 800;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: var(--gray-600);
            font-weight: 600;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* =============== CAROUSEL =============== */
        .carousel-container {
            background: var(--white);
            border-radius: var(--radius-2xl);
            padding: 2rem;
            box-shadow: var(--shadow-xl);
            border: 1px solid var(--gray-200);
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }

        .carousel-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .carousel-title {
            font-family: var(--font-display);
            font-size: 1.75rem;
            font-weight: 700;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .carousel-wrapper {
            position: relative;
            overflow: hidden;
            border-radius: var(--radius-xl);
            perspective: 1200px;
        }

        .carousel-track {
            display: flex;
            transition: transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            gap: 1.5rem;
        }

        .review-card {
            flex: 0 0 400px;
            background: var(--white);
            border-radius: var(--radius-xl);
            padding: 2rem;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--gray-200);
            transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            position: relative;
            transform: scale(0.9) rotateY(10deg);
            opacity: 0.7;
        }

        .review-card.center {
            transform: scale(1) rotateY(0deg);
            opacity: 1;
            box-shadow: var(--shadow-2xl);
            border-color: var(--primary-light);
        }

        .review-card.prev {
            transform: scale(0.9) rotateY(10deg);
        }

        .review-card.next {
            transform: scale(0.9) rotateY(-10deg);
        }

        .review-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .reviewer-avatar {
            width: 3rem;
            height: 3rem;
            border-radius: var(--radius-full);
            background: var(--gradient-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-weight: 700;
            font-size: 1.25rem;
            flex-shrink: 0;
        }

        .reviewer-info h4 {
            font-weight: 700;
            color: var(--gray-800);
            margin-bottom: 0.25rem;
        }

        .reviewer-plan {
            font-size: 0.875rem;
            color: var(--gray-600);
            background: var(--gray-100);
            padding: 0.25rem 0.75rem;
            border-radius: var(--radius-full);
            display: inline-block;
        }

        .review-category {
            font-size: 0.75rem;
            color: var(--primary);
            background: rgba(102, 126, 234, 0.1);
            padding: 0.25rem 0.75rem;
            border-radius: var(--radius-full);
            display: inline-block;
            margin-top: 0.25rem;
            font-weight: 600;
        }

        .review-rating {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .review-stars {
            display: flex;
            gap: 0.125rem;
        }

        .review-stars .star {
            color: #fbbf24;
            font-size: 1rem;
        }

        .rating-badge {
            background: var(--gradient-primary);
            color: var(--white);
            padding: 0.25rem 0.5rem;
            border-radius: var(--radius-full);
            font-size: 0.75rem;
            font-weight: 700;
        }

        .review-text {
            color: var(--gray-700);
            line-height: 1.6;
            margin-bottom: 1.5rem;
            font-size: 0.95rem;
        }

        .review-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 1rem;
            border-top: 1px solid var(--gray-200);
        }

        .review-date {
            color: var(--gray-500);
            font-size: 0.875rem;
            font-weight: 500;
        }

        .review-actions {
            display: flex;
            gap: 0.75rem;
            align-items: center;
        }

        .like-button {
            background: none;
            border: 1px solid var(--gray-300);
            padding: 0.375rem 0.75rem;
            border-radius: var(--radius-full);
            color: var(--gray-600);
            font-size: 0.875rem;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.375rem;
        }

        .like-button:hover {
            border-color: var(--primary);
            color: var(--primary);
            background: rgba(102, 126, 234, 0.05);
        }

        .like-button.liked {
            background: var(--primary);
            color: var(--white);
            border-color: var(--primary);
        }

        .verified-badge {
            background: var(--success);
            color: var(--white);
            padding: 0.25rem 0.5rem;
            border-radius: var(--radius-full);
            font-size: 0.75rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        /* =============== CAROUSEL CONTROLS =============== */
        .carousel-controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin: 2rem 0 1rem;
        }

        .carousel-button {
            width: 3rem;
            height: 3rem;
            border: none;
            border-radius: var(--radius-full);
            background: var(--gradient-primary);
            color: var(--white);
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow-md);
        }

        .carousel-button:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-colored);
        }

        .carousel-indicators {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
        }

        .carousel-indicator {
            width: 0.75rem;
            height: 0.75rem;
            border-radius: var(--radius-full);
            background: var(--gray-300);
            cursor: pointer;
            transition: var(--transition);
        }

        .carousel-indicator.active {
            background: var(--primary);
            transform: scale(1.25);
        }

        /* =============== EMPTY STATE =============== */
        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
            background: var(--white);
            border-radius: var(--radius-2xl);
            border: 2px dashed var(--gray-300);
            margin: 2rem 0;
        }

        .empty-state-icon {
            font-size: 4rem;
            color: var(--gray-400);
            margin-bottom: 1.5rem;
        }

        .empty-state h3 {
            font-family: var(--font-display);
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--gray-600);
            margin-bottom: 1rem;
        }

        .empty-state p {
            color: var(--gray-500);
            font-size: 1rem;
            max-width: 400px;
            margin: 0 auto;
            line-height: 1.6;
        }

        /* =============== LOADING STATES =============== */
        .loading-skeleton {
            background: linear-gradient(90deg, var(--gray-200) 25%, var(--gray-100) 50%, var(--gray-200) 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
            border-radius: var(--radius-lg);
        }

        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        .skeleton-card {
            height: 320px;
            margin-bottom: 1.5rem;
        }

        .skeleton-line {
            height: 1rem;
            margin-bottom: 0.75rem;
        }

        .skeleton-line.short {
            width: 60%;
        }

        /* =============== RESPONSIVE DESIGN =============== */
        @media (max-width: 1024px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .review-card {
                flex: 0 0 350px;
            }
            
            .hero-stats {
                grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .hero-title {
                font-size: 2.5rem;
            }
            
            .tabs-container {
                flex-direction: column;
                align-items: center;
                gap: 0.75rem;
            }
            
            .tab-button {
                width: 100%;
                max-width: 300px;
                justify-content: center;
            }
            
            .form-container {
                margin: 0 1rem;
                padding: 2rem 1.5rem;
            }
            
            .filters-grid {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
                gap: 1rem;
            }
            
            .review-card {
                flex: 0 0 320px;
                padding: 1.5rem;
            }
            
            .status-indicator {
                position: static;
                margin: 1rem auto;
                width: fit-content;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 1rem;
            }
            
            .hero-stats {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: 1fr 1fr;
            }
            
            .review-card {
                flex: 0 0 300px;
                padding: 1.25rem;
            }
            
            .carousel-button {
                width: 2.5rem;
                height: 2.5rem;
            }
        }

        /* =============== ACCESSIBILITY =============== */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* =============== FOCUS STYLES =============== */
        .tab-button:focus,
        .carousel-button:focus,
        .carousel-indicator:focus,
        .rating-star:focus,
        .submit-button:focus {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }

        /* =============== DARK MODE SUPPORT =============== */
        @media (prefers-color-scheme: dark) {
            :root {
                --surface: var(--gray-800);
                --background: var(--gray-900);
                --gray-50: var(--gray-800);
                --gray-100: var(--gray-700);
                --gray-200: var(--gray-600);
                --gray-800: var(--gray-200);
                --gray-700: var(--gray-300);
                --gray-600: var(--gray-400);
            }
        }
    </style>
</head>
<body>
    <!-- Status Indicator -->
    <div id="statusIndicator" class="status-indicator online">
        <i class="fas fa-circle"></i>
        <span>System Online</span>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="nav">
                <a href="#" class="logo">
                    <i class="fas fa-star"></i>
                    Camva Pro Reviews
                </a>
                
                <ul class="nav-links">
                    <li><a href="#" class="nav-link">Home</a></li>
                    <li><a href="#" class="nav-link">Features</a></li>
                    <li><a href="#" class="nav-link">Pricing</a></li>
                    <li><a href="#" class="nav-link">Support</a></li>
                </ul>
                
                <a href="#" class="cta-button">
                    <i class="fas fa-rocket"></i>
                    Try Free
                </a>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main">
        <div class="container">
            <!-- Hero Section -->
            <section class="hero-section">
                <h1 class="hero-title">Ultra Pro Max Reviews</h1>
                <p class="hero-subtitle">
                    Professional review system with advanced filtering, real-time analytics, 
                    and modern carousel display. Share your experience and help others make informed decisions.
                </p>
                
                <div class="hero-stats">
                    <div class="hero-stat">
                        <div class="hero-stat-number" id="heroAvgRating">0</div>
                        <div class="hero-stat-label">Average Rating</div>
                    </div>
                    <div class="hero-stat">
                        <div class="hero-stat-number" id="heroTotalReviews">0</div>
                        <div class="hero-stat-label">Total Reviews</div>
                    </div>
                    <div class="hero-stat">
                        <div class="hero-stat-number" id="heroRecommendPercent">0%</div>
                        <div class="hero-stat-label">Recommend</div>
                    </div>
                    <div class="hero-stat">
                        <div class="hero-stat-number" id="heroVerifiedPercent">0%</div>
                        <div class="hero-stat-label">Verified</div>
                    </div>
                </div>
            </section>

            <!-- Tabs -->
            <div class="tabs-container">
                <button class="tab-button active" onclick="switchTab('write')" id="writeTabBtn">
                    <i class="fas fa-edit"></i>
                    <span>Write Review</span>
                </button>
                <button class="tab-button" onclick="switchTab('read')" id="readTabBtn">
                    <i class="fas fa-star"></i>
                    <span>Browse Reviews</span>
                    <span class="tab-badge" id="reviewCountBadge">0</span>
                </button>
            </div>

            <!-- Write Review Tab -->
            <div id="writeTab" class="tab-content active">
                <div class="form-container">
                    <div class="form-header">
                        <h2 class="form-title">Share Your Experience</h2>
                        <p class="form-subtitle">
                            Your detailed feedback helps us improve and assists other users in making informed decisions. 
                            All reviews are moderated to ensure quality and authenticity.
                        </p>
                    </div>

                    <form id="reviewForm" novalidate>
                        <div class="form-grid">
                            <div class="form-group">
                                <label class="form-label required" for="reviewerName">
                                    <i class="fas fa-user"></i>
                                    Full Name
                                </label>
                                <input 
                                    type="text" 
                                    id="reviewerName" 
                                    name="reviewerName" 
                                    class="form-input" 
                                    placeholder="Enter your full name"
                                    required 
                                    maxlength="100"
                                    autocomplete="name"
                                >
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="reviewerEmail">
                                    <i class="fas fa-envelope"></i>
                                    Email Address
                                </label>
                                <input 
                                    type="email" 
                                    id="reviewerEmail" 
                                    name="reviewerEmail" 
                                    class="form-input" 
                                    placeholder="your.email@example.com (optional)"
                                    maxlength="150"
                                    autocomplete="email"
                                >
                                <small style="color: var(--gray-500); font-size: 0.875rem;">
                                    Optional - for verification badge and updates
                                </small>
                            </div>

                            <div class="form-group">
                                <label class="form-label required" for="subscriptionPlan">
                                    <i class="fas fa-credit-card"></i>
                                    Subscription Plan
                                </label>
                                <select id="subscriptionPlan" name="subscriptionPlan" class="form-select" required>
                                    <option value="">Select your plan</option>
                                    <option value="Monthly Plan (‚Çπ999)">Monthly Plan - ‚Çπ999/month</option>
                                    <option value="Quarterly Plan (‚Çπ2499)">Quarterly Plan - ‚Çπ2,499/3 months</option>
                                    <option value="Annual Plan (‚Çπ6999)">Annual Plan - ‚Çπ6,999/year</option>
                                    <option value="Enterprise Plan">Enterprise Plan</option>
                                    <option value="Free Trial">Free Trial User</option>
                                    <option value="Giveaway Winner">Giveaway Winner</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="form-label required" for="reviewCategory">
                                    <i class="fas fa-tags"></i>
                                    Review Category
                                </label>
                                <select id="reviewCategory" name="reviewCategory" class="form-select" required>
                                    <option value="">Choose category</option>
                                    <option value="AI Features">ü§ñ AI Features</option>
                                    <option value="Design Templates">üé® Design Templates</option>
                                    <option value="User Interface">üíª User Interface</option>
                                    <option value="Performance">‚ö° Performance</option>
                                    <option value="Customer Support">üéß Customer Support</option>
                                    <option value="Pricing & Value">üí∞ Pricing & Value</option>
                                    <option value="Mobile Experience">üì± Mobile Experience</option>
                                    <option value="Overall Satisfaction">‚≠ê Overall Satisfaction</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group full-width">
                            <label class="form-label required">
                                <i class="fas fa-star"></i>
                                Overall Rating
                            </label>
                            <div class="rating-container">
                                <div class="rating-stars" id="ratingStars">
                                    <span class="rating-star" data-rating="1" tabindex="0">‚≠ê</span>
                                    <span class="rating-star" data-rating="2" tabindex="0">‚≠ê</span>
                                    <span class="rating-star" data-rating="3" tabindex="0">‚≠ê</span>
                                    <span class="rating-star" data-rating="4" tabindex="0">‚≠ê</span>
                                    <span class="rating-star" data-rating="5" tabindex="0">‚≠ê</span>
                                </div>
                                <div class="rating-text" id="ratingText">Please select a rating</div>
                            </div>
                        </div>

                        <div class="form-group full-width">
                            <label class="form-label required" for="reviewText">
                                <i class="fas fa-comment-alt"></i>
                                Your Detailed Review
                            </label>
                            <textarea 
                                id="reviewText" 
                                name="reviewText" 
                                class="form-textarea" 
                                placeholder="Share your detailed experience with Camva Pro. What features do you love? How has it improved your workflow? Any suggestions for improvement? The more specific, the more helpful for other users!"
                                required 
                                minlength="20" 
                                maxlength="2000"
                                rows="6"
                            ></textarea>
                            <div class="character-counter">
                                <span id="charCount">0</span>/2000 characters
                            </div>
                        </div>

                        <div class="form-grid">
                            <div class="form-group">
                                <label class="form-label" for="featuresUsed">
                                    <i class="fas fa-list"></i>
                                    Key Features Used
                                </label>
                                <input 
                                    type="text" 
                                    id="featuresUsed" 
                                    name="featuresUsed" 
                                    class="form-input" 
                                    placeholder="e.g., AI Writer, Background Remover, Templates"
                                    maxlength="200"
                                >
                                <small style="color: var(--gray-500); font-size: 0.875rem;">
                                    Optional - helps other users understand feature usage
                                </small>
                            </div>

                            <div class="form-group">
                                <label class="form-label required" for="wouldRecommend">
                                    <i class="fas fa-thumbs-up"></i>
                                    Would You Recommend?
                                </label>
                                <select id="wouldRecommend" name="wouldRecommend" class="form-select" required>
                                    <option value="">Select option</option>
                                    <option value="Yes">‚úÖ Yes, definitely recommend</option>
                                    <option value="Maybe">ü§î Maybe, depends on needs</option>
                                    <option value="No">‚ùå No, would not recommend</option>
                                </select>
                            </div>
                        </div>

                        <button type="submit" class="submit-button" id="submitButton">
                            <div class="submit-spinner" id="submitSpinner"></div>
                            <i class="fas fa-paper-plane" id="submitIcon"></i>
                            <span id="submitText">Submit Review</span>
                        </button>
                    </form>

                    <div id="formAlert" role="alert" aria-live="polite"></div>
                </div>
            </div>

            <!-- Read Reviews Tab -->
            <div id="readTab" class="tab-content">
                <div class="reviews-section">
                    <!-- Filters -->
                    <div class="filters-container">
                        <div class="filters-header">
                            <h3 class="filters-title">Advanced Filters</h3>
                            <p style="color: var(--gray-600);">Filter reviews by category, rating, plan, or search for specific content</p>
                        </div>
                        
                        <div class="filters-grid">
                            <div class="filter-group">
                                <label class="filter-label">
                                    <i class="fas fa-tags"></i>
                                    Category
                                </label>
                                <select id="categoryFilter" class="filter-select" onchange="applyFilters()">
                                    <option value="">All Categories</option>
                                    <option value="AI Features">ü§ñ AI Features</option>
                                    <option value="Design Templates">üé® Design Templates</option>
                                    <option value="User Interface">üíª User Interface</option>
                                    <option value="Performance">‚ö° Performance</option>
                                    <option value="Customer Support">üéß Customer Support</option>
                                    <option value="Pricing & Value">üí∞ Pricing & Value</option>
                                    <option value="Mobile Experience">üì± Mobile Experience</option>
                                    <option value="Overall Satisfaction">‚≠ê Overall Satisfaction</option>
                                </select>
                            </div>
                            
                            <div class="filter-group">
                                <label class="filter-label">
                                    <i class="fas fa-star"></i>
                                    Rating
                                </label>
                                <select id="ratingFilter" class="filter-select" onchange="applyFilters()">
                                    <option value="">All Ratings</option>
                                    <option value="5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê 5 Stars</option>
                                    <option value="4">‚≠ê‚≠ê‚≠ê‚≠ê 4 Stars</option>
                                    <option value="3">‚≠ê‚≠ê‚≠ê 3 Stars</option>
                                    <option value="2">‚≠ê‚≠ê 2 Stars</option>
                                    <option value="1">‚≠ê 1 Star</option>
                                </select>
                            </div>
                            
                            <div class="filter-group">
                                <label class="filter-label">
                                    <i class="fas fa-credit-card"></i>
                                    Plan
                                </label>
                                <select id="planFilter" class="filter-select" onchange="applyFilters()">
                                    <option value="">All Plans</option>
                                    <option value="Monthly">Monthly Plan</option>
                                    <option value="Quarterly">Quarterly Plan</option>
                                    <option value="Annual">Annual Plan</option>
                                    <option value="Enterprise">Enterprise Plan</option>
                                    <option value="Free Trial">Free Trial</option>
                                    <option value="Giveaway">Giveaway Winner</option>
                                </select>
                            </div>
                            
                            <div class="filter-group">
                                <label class="filter-label">
                                    <i class="fas fa-sort"></i>
                                    Sort By
                                </label>
                                <select id="sortFilter" class="filter-select" onchange="applyFilters()">
                                    <option value="featured">Featured</option>
                                    <option value="newest">Newest First</option>
                                    <option value="oldest">Oldest First</option>
                                    <option value="highest">Highest Rating</option>
                                    <option value="lowest">Lowest Rating</option>
                                    <option value="most_liked">Most Liked</option>
                                </select>
                            </div>
                            
                            <div class="search-container">
                                <i class="fas fa-search search-icon"></i>
                                <input 
                                    type="text" 
                                    id="searchInput" 
                                    class="search-input" 
                                    placeholder="Search reviews, names, features, or content..."
                                    onkeyup="searchReviews()"
                                >
                            </div>
                        </div>
                    </div>

                    <!-- Stats Dashboard -->
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-star"></i>
                            </div>
                            <div class="stat-number" id="avgRating">0</div>
                            <div class="stat-label">Average Rating</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-number" id="totalReviews">0</div>
                            <div class="stat-label">Total Reviews</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-thumbs-up"></i>
                            </div>
                            <div class="stat-number" id="fiveStarPercent">0%</div>
                            <div class="stat-label">5-Star Reviews</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-heart"></i>
                            </div>
                            <div class="stat-number" id="recommendPercent">0%</div>
                            <div class="stat-label">Recommend</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-certificate"></i>
                            </div>
                            <div class="stat-number" id="verifiedPercent">0%</div>
                            <div class="stat-label">Verified Reviews</div>
                        </div>
                    </div>

                    <!-- Carousel -->
                    <div class="carousel-container">
                        <div class="carousel-header">
                            <h3 class="carousel-title">Customer Reviews</h3>
                            <p style="color: var(--gray-600); margin: 0;">Browse through authentic customer experiences</p>
                        </div>
                        
                        <div class="carousel-wrapper">
                            <div class="carousel-track" id="carouselTrack">
                                <!-- Review cards will be populated here -->
                            </div>
                        </div>
                        
                        <div class="carousel-controls">
                            <button class="carousel-button" id="prevButton" onclick="previousReview()" aria-label="Previous review">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <button class="carousel-button" id="nextButton" onclick="nextReview()" aria-label="Next review">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                        
                        <div class="carousel-indicators" id="carouselIndicators">
                            <!-- Indicators will be populated here -->
                        </div>
                    </div>

                    <!-- Empty State -->
                    <div id="emptyState" class="empty-state" style="display: none;">
                        <div class="empty-state-icon">
                            <i class="fas fa-comments"></i>
                        </div>
                        <h3>No Reviews Found</h3>
                        <p>
                            No reviews match your current filters. Try adjusting your search criteria 
                            or be the first to share your experience!
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // =============== CONFIGURATION ===============
        const API_URL = 'https://script.google.com/macros/s/AKfycbyzpENRlrz1hqxXnSWVzQun3nCxwhAYsT817DjFye-Tlsl_t-OKMUX8PYv5s2JoIvm2/exec'; // Replace with your Apps Script URL
        
        const CONFIG = {
            AUTO_ROTATE_INTERVAL: 8000, // 8 seconds
            MAX_RETRIES: 3,
            RETRY_DELAY: 1000,
            DEBOUNCE_DELAY: 500,
            ANIMATION_DURATION: 600,
            DEBUG: false
        };

        // =============== GLOBAL STATE ===============
        let currentRating = 0;
        let reviews = [];
        let filteredReviews = [];
        let currentCarouselIndex = 0;
        let autoRotateTimer = null;
        let isSubmitting = false;
        let debounceTimer = null;

        // =============== INITIALIZATION ===============
        document.addEventListener('DOMContentLoaded', function() {
            log('üöÄ Ultra Pro Max Reviews System initializing...');
            
            initializeComponents();
            loadReviews();
            
            log('‚úÖ System initialized successfully');
        });

        function initializeComponents() {
            initializeRatingSystem();
            initializeCharacterCounter();
            initializeFormValidation();
            initializeEventListeners();
            initializeCarousel();
            updateConnectionStatus();
        }

        function initializeEventListeners() {
            // Form submission
            document.getElementById('reviewForm').addEventListener('submit', handleFormSubmission);
            
            // Network status
            window.addEventListener('online', () => {
                updateConnectionStatus();
                loadReviews();
            });
            window.addEventListener('offline', updateConnectionStatus);
            
            // Visibility change for auto-rotation
            document.addEventListener('visibilitychange', handleVisibilityChange);
            
            // Keyboard shortcuts
            document.addEventListener('keydown', handleKeyboardShortcuts);
        }

        // =============== RATING SYSTEM ===============
        function initializeRatingSystem() {
            const stars = document.querySelectorAll('.rating-star');
            const ratingText = document.getElementById('ratingText');
            
            const ratingMessages = {
                1: 'üòû Very Poor - Not satisfied',
                2: 'üòê Poor - Below expectations',
                3: 'üôÇ Average - Meets expectations',
                4: 'üòä Good - Exceeds expectations', 
                5: 'ü§© Excellent - Outstanding experience!'
            };

            stars.forEach((star, index) => {
                const rating = index + 1;
                
                // Click events
                star.addEventListener('click', () => {
                    setRating(rating);
                    ratingText.textContent = ratingMessages[rating];
                    ratingText.classList.add('selected');
                    
                    // Haptic feedback
                    if (navigator.vibrate) {
                        navigator.vibrate(50);
                    }
                });

                // Hover events
                star.addEventListener('mouseenter', () => {
                    highlightStars(rating);
                    ratingText.textContent = ratingMessages[rating];
                });

                // Keyboard events
                star.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        star.click();
                    }
                    
                    // Arrow navigation
                    if (e.key === 'ArrowRight' && index < 4) {
                        e.preventDefault();
                        stars[index + 1].focus();
                    }
                    if (e.key === 'ArrowLeft' && index > 0) {
                        e.preventDefault();
                        stars[index - 1].focus();
                    }
                });
            });

            // Reset on mouse leave
            document.getElementById('ratingStars').addEventListener('mouseleave', () => {
                updateStarDisplay();
                if (currentRating > 0) {
                    ratingText.textContent = ratingMessages[currentRating];
                } else {
                    ratingText.textContent = 'Please select a rating';
                    ratingText.classList.remove('selected');
                }
            });

            function setRating(rating) {
                currentRating = rating;
                updateStarDisplay();
            }

            function highlightStars(rating) {
                stars.forEach((star, index) => {
                    if (index < rating) {
                        star.classList.add('active');
                    } else {
                        star.classList.remove('active');
                    }
                });
            }

            function updateStarDisplay() {
                highlightStars(currentRating);
            }
        }

        // =============== CHARACTER COUNTER ===============
        function initializeCharacterCounter() {
            const textarea = document.getElementById('reviewText');
            const charCount = document.getElementById('charCount');
            const counter = document.querySelector('.character-counter');
            
            textarea.addEventListener('input', () => {
                const count = textarea.value.length;
                charCount.textContent = count;
                
                // Remove existing classes
                counter.classList.remove('warning', 'danger');
                
                // Apply color coding
                if (count > 1800) {
                    counter.classList.add('danger');
                } else if (count > 1500) {
                    counter.classList.add('warning');
                }
            });
        }

        // =============== FORM VALIDATION ===============
        function initializeFormValidation() {
            const requiredFields = document.querySelectorAll('[required]');
            
            requiredFields.forEach(field => {
                field.addEventListener('blur', validateField);
                field.addEventListener('input', clearFieldError);
            });
        }

        function validateField(e) {
            const field = e.target;
            const value = field.value.trim();
            
            clearFieldError(field);
            
            // Name validation
            if (field.name === 'reviewerName') {
                if (value.length < 2) {
                    showFieldError(field, 'Name must be at least 2 characters');
                    return false;
                }
            }
            
            // Email validation
            if (field.name === 'reviewerEmail' && value) {
                if (!isValidEmail(value)) {
                    showFieldError(field, 'Please enter a valid email address');
                    return false;
                }
            }
            
            // Review text validation
            if (field.name === 'reviewText') {
                if (value.length < 20) {
                    showFieldError(field, 'Please write at least 20 characters');
                    return false;
                }
            }
            
            return true;
        }

        function showFieldError(field, message) {
            field.style.borderColor = 'var(--error)';
            
            const existingError = field.parentNode.querySelector('.field-error');
            if (existingError) existingError.remove();
            
            const errorDiv = document.createElement('div');
            errorDiv.className = 'field-error';
            errorDiv.style.cssText = `
                color: var(--error);
                font-size: 0.875rem;
                margin-top: 0.5rem;
                display: flex;
                align-items: center;
                gap: 0.5rem;
            `;
            errorDiv.innerHTML = `<i class="fas fa-exclamation-circle"></i> ${message}`;
            field.parentNode.appendChild(errorDiv);
        }

        function clearFieldError(field) {
            if (field.target) field = field.target;
            
            field.style.borderColor = '';
            const errorDiv = field.parentNode.querySelector('.field-error');
            if (errorDiv) errorDiv.remove();
        }

        function isValidEmail(email) {
            return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
        }

        // =============== FORM SUBMISSION ===============
        async function handleFormSubmission(e) {
            e.preventDefault();
            
            if (isSubmitting) return;
            
            const submitButton = document.getElementById('submitButton');
            const spinner = document.getElementById('submitSpinner');
            const icon = document.getElementById('submitIcon');
            const text = document.getElementById('submitText');
            const statusIndicator = document.getElementById('statusIndicator');
            const alertContainer = document.getElementById('formAlert');
            
            // Clear previous alerts
            alertContainer.innerHTML = '';
            
            // Validate form
            if (!validateForm()) {
                return;
            }
            
            // Show loading state
            isSubmitting = true;
            submitButton.disabled = true;
            spinner.style.display = 'block';
            icon.style.display = 'none';
            text.textContent = 'Submitting...';
            statusIndicator.className = 'status-indicator loading';
            statusIndicator.innerHTML = '<i class="fas fa-spinner fa-spin"></i> <span>Submitting Review...</span>';
            
            try {
                const result = await submitReview();
                
                if (result.status === 'success') {
                    showAlert(result.message, 'success');
                    resetForm();
                    
                    // Auto switch to reviews tab after success
                    setTimeout(() => {
                        switchTab('read');
                        loadReviews();
                    }, 3000);
                } else {
                    showAlert(result.message, 'error');
                }
                
            } catch (error) {
                log('Submission failed:', error);
                showAlert('Unable to submit review. Please check your connection and try again.', 'error');
            } finally {
                // Reset UI
                isSubmitting = false;
                setTimeout(() => {
                    submitButton.disabled = false;
                    spinner.style.display = 'none';
                    icon.style.display = 'inline';
                    text.textContent = 'Submit Review';
                    updateConnectionStatus();
                }, 2000);
            }
        }

        function validateForm() {
            let isValid = true;
            
            // Check rating
            if (currentRating === 0) {
                showAlert('Please select a rating', 'error');
                isValid = false;
            }
            
            // Check required fields
            const requiredFields = document.querySelectorAll('[required]');
            requiredFields.forEach(field => {
                if (!field.value.trim()) {
                    showFieldError(field, 'This field is required');
                    isValid = false;
                } else if (!validateField({ target: field })) {
                    isValid = false;
                }
            });
            
            return isValid;
        }

        async function submitReview() {
            const formData = new FormData();
            formData.append('name', document.getElementById('reviewerName').value.trim());
            formData.append('email', document.getElementById('reviewerEmail').value.trim());
            formData.append('plan', document.getElementById('subscriptionPlan').value);
            formData.append('category', document.getElementById('reviewCategory').value);
            formData.append('rating', currentRating);
            formData.append('text', document.getElementById('reviewText').value.trim());
            formData.append('features', document.getElementById('featuresUsed').value.trim());
            formData.append('recommendation', document.getElementById('wouldRecommend').value);
            formData.append('userAgent', navigator.userAgent);
            
            const response = await fetch(API_URL, {
                method: 'POST',
                body: formData
            });
            
            if (!response.ok) {
                throw new Error(`HTTP ${response.status}: ${response.statusText}`);
            }
            
            return await response.json();
        }

        function resetForm() {
            document.getElementById('reviewForm').reset();
            currentRating = 0;
            document.querySelectorAll('.rating-star').forEach(star => star.classList.remove('active'));
            document.getElementById('ratingText').textContent = 'Please select a rating';
            document.getElementById('ratingText').classList.remove('selected');
            document.getElementById('charCount').textContent = '0';
            
            // Clear all field errors
            document.querySelectorAll('.field-error').forEach(error => error.remove());
            document.querySelectorAll('.form-input, .form-select, .form-textarea').forEach(field => {
                field.style.borderColor = '';
            });
        }

        // =============== REVIEWS LOADING ===============
        async function loadReviews() {
            try {
                log('Loading reviews...');
                
                const params = new URLSearchParams({
                    action: 'get_reviews',
                    category: document.getElementById('categoryFilter')?.value || '',
                    rating: document.getElementById('ratingFilter')?.value || '',
                    plan: document.getElementById('planFilter')?.value || '',
                    sortBy: document.getElementById('sortFilter')?.value || 'featured',
                    search: document.getElementById('searchInput')?.value || '',
                    limit: '50',
                    offset: '0'
                });
                
                const response = await fetch(`${API_URL}?${params}`);
                
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}`);
                }
                
                const data = await response.json();
                
                if (data.status === 'success') {
                    reviews = data.reviews || [];
                    filteredReviews = [...reviews];
                    
                    displayReviews();
                    updateStats(data.stats);
                    updateReviewCount();
                    
                    log(`Loaded ${reviews.length} reviews`);
                } else {
                    throw new Error(data.message || 'Failed to load reviews');
                }
                
            } catch (error) {
                log('Error loading reviews:', error);
                displayEmptyState('Unable to load reviews. Please check your connection.');
            }
        }

        function displayReviews() {
            const carouselTrack = document.getElementById('carouselTrack');
            const indicators = document.getElementById('carouselIndicators');
            const emptyState = document.getElementById('emptyState');
            
            if (filteredReviews.length === 0) {
                emptyState.style.display = 'block';
                document.querySelector('.carousel-container').style.display = 'none';
                return;
            }
            
            emptyState.style.display = 'none';
            document.querySelector('.carousel-container').style.display = 'block';
            
            // Clear existing content
            carouselTrack.innerHTML = '';
            indicators.innerHTML = '';
            
            // Create review cards and indicators
            filteredReviews.forEach((review, index) => {
                const card = createReviewCard(review);
                carouselTrack.appendChild(card);
                
                const indicator = createIndicator(index);
                indicators.appendChild(indicator);
            });
            
            currentCarouselIndex = 0;
            updateCarouselPosition();
            startAutoRotation();
        }

        function createReviewCard(review) {
            const card = document.createElement('div');
            card.className = 'review-card';
            
            const stars = '‚òÖ'.repeat(review.rating) + '‚òÜ'.repeat(5 - review.rating);
            const initial = review.name.charAt(0).toUpperCase();
            
            card.innerHTML = `
                <div class="review-header">
                    <div class="reviewer-avatar">${initial}</div>
                    <div class="reviewer-info">
                        <h4>${truncateName(review.name)}</h4>
                        <div class="reviewer-plan">${review.plan}</div>
                        <div class="review-category">${getCategoryEmoji(review.category)} ${review.category}</div>
                    </div>
                </div>
                
                <div class="review-rating">
                    <div class="review-stars">
                        ${generateStarHTML(review.rating)}
                    </div>
                    <div class="rating-badge">${review.rating}/5</div>
                </div>
                
                <div class="review-text">${review.text}</div>
                
                <div class="review-footer">
                    <div class="review-date">${review.createdDate}</div>
                    <div class="review-actions">
                        <button class="like-button" onclick="likeReview('${review.id}')">
                            <i class="fas fa-thumbs-up"></i>
                            ${review.likes || 0}
                        </button>
                        ${review.verified ? '<div class="verified-badge"><i class="fas fa-check-circle"></i> Verified</div>' : ''}
                    </div>
                </div>
            `;
            
            return card;
        }

        function generateStarHTML(rating) {
            let html = '';
            for (let i = 1; i <= 5; i++) {
                html += `<span class="star" style="color: ${i <= rating ? '#fbbf24' : 'var(--gray-300)'}">‚òÖ</span>`;
            }
            return html;
        }

        function getCategoryEmoji(category) {
            const emojis = {
                'AI Features': 'ü§ñ',
                'Design Templates': 'üé®', 
                'User Interface': 'üíª',
                'Performance': '‚ö°',
                'Customer Support': 'üéß',
                'Pricing & Value': 'üí∞',
                'Mobile Experience': 'üì±',
                'Overall Satisfaction': '‚≠ê'
            };
            return emojis[category] || '‚≠ê';
        }

        function truncateName(name) {
            const parts = name.split(' ');
            return parts.length > 1 ? `${parts[0]} ${parts[1].charAt(0)}.` : parts[0];
        }

        function createIndicator(index) {
            const indicator = document.createElement('div');
            indicator.className = 'carousel-indicator';
            indicator.setAttribute('data-index', index);
            indicator.addEventListener('click', () => goToReview(index));
            
            if (index === 0) indicator.classList.add('active');
            
            return indicator;
        }

        function displayEmptyState(message) {
            const emptyState = document.getElementById('emptyState');
            emptyState.style.display = 'block';
            document.querySelector('.carousel-container').style.display = 'none';
            
            if (message) {
                emptyState.querySelector('p').textContent = message;
            }
        }

        // =============== CAROUSEL NAVIGATION ===============
        function initializeCarousel() {
            // Initialize carousel controls
            document.getElementById('prevButton').addEventListener('click', previousReview);
            document.getElementById('nextButton').addEventListener('click', nextReview);
        }

        function nextReview() {
            if (filteredReviews.length === 0) return;
            
            stopAutoRotation();
            currentCarouselIndex = (currentCarouselIndex + 1) % filteredReviews.length;
            updateCarouselPosition();
            startAutoRotation();
        }

        function previousReview() {
            if (filteredReviews.length === 0) return;
            
            stopAutoRotation();
            currentCarouselIndex = currentCarouselIndex === 0 ? filteredReviews.length - 1 : currentCarouselIndex - 1;
            updateCarouselPosition();
            startAutoRotation();
        }

        function goToReview(index) {
            stopAutoRotation();
            currentCarouselIndex = index;
            updateCarouselPosition();
            startAutoRotation();
        }

        function updateCarouselPosition() {
            const track = document.getElementById('carouselTrack');
            const cards = track.querySelectorAll('.review-card');
            const indicators = document.querySelectorAll('.carousel-indicator');
            
            // Update card positions
            cards.forEach((card, index) => {
                card.classList.remove('center', 'prev', 'next');
                
                if (index === currentCarouselIndex) {
                    card.classList.add('center');
                } else if (index === currentCarouselIndex - 1 || (currentCarouselIndex === 0 && index === cards.length - 1)) {
                    card.classList.add('prev');
                } else if (index === currentCarouselIndex + 1 || (currentCarouselIndex === cards.length - 1 && index === 0)) {
                    card.classList.add('next');
                }
            });
            
            // Update indicators
            indicators.forEach((indicator, index) => {
                indicator.classList.toggle('active', index === currentCarouselIndex);
            });
            
            // Calculate transform for centering
            if (cards.length > 0) {
                const cardWidth = 416; // 400px + 16px gap
                const containerWidth = track.parentElement.offsetWidth;
                const offset = (containerWidth / 2) - (cardWidth / 2) - (currentCarouselIndex * cardWidth);
                track.style.transform = `translateX(${offset}px)`;
            }
        }

        // =============== AUTO-ROTATION ===============
        function startAutoRotation() {
            if (filteredReviews.length <= 1) return;
            
            stopAutoRotation();
            
            autoRotateTimer = setInterval(() => {
                if (!document.hidden && document.getElementById('readTab').classList.contains('active')) {
                    nextReview();
                }
            }, CONFIG.AUTO_ROTATE_INTERVAL);
        }

        function stopAutoRotation() {
            if (autoRotateTimer) {
                clearInterval(autoRotateTimer);
                autoRotateTimer = null;
            }
        }

        function handleVisibilityChange() {
            if (document.hidden) {
                stopAutoRotation();
            } else if (document.getElementById('readTab').classList.contains('active')) {
                setTimeout(startAutoRotation, 1000);
            }
        }

        // =============== FILTERING SYSTEM ===============
        function applyFilters() {
            const category = document.getElementById('categoryFilter').value;
            const rating = document.getElementById('ratingFilter').value;
            const plan = document.getElementById('planFilter').value;
            const sortBy = document.getElementById('sortFilter').value;
            const search = document.getElementById('searchInput').value.toLowerCase().trim();
            
            let filtered = [...reviews];
            
            // Apply filters
            if (category) {
                filtered = filtered.filter(r => r.category === category);
            }
            
            if (rating) {
                filtered = filtered.filter(r => r.rating === parseInt(rating));
            }
            
            if (plan) {
                filtered = filtered.filter(r => r.plan.toLowerCase().includes(plan.toLowerCase()));
            }
            
            if (search) {
                filtered = filtered.filter(r => 
                    r.text.toLowerCase().includes(search) ||
                    r.name.toLowerCase().includes(search) ||
                    r.category.toLowerCase().includes(search) ||
                    (r.features && r.features.some(f => f.toLowerCase().includes(search)))
                );
            }
            
            // Apply sorting
            switch (sortBy) {
                case 'newest':
                    filtered.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
                    break;
                case 'oldest':
                    filtered.sort((a, b) => new Date(a.timestamp) - new Date(b.timestamp));
                    break;
                case 'highest':
                    filtered.sort((a, b) => b.rating - a.rating);
                    break;
                case 'lowest':
                    filtered.sort((a, b) => a.rating - b.rating);
                    break;
                case 'most_liked':
                    filtered.sort((a, b) => (b.likes || 0) - (a.likes || 0));
                    break;
                default: // featured
                    filtered.sort((a, b) => {
                        const scoreA = (a.rating * 0.4) + ((a.helpfulVotes || 0) * 0.3) + ((a.likes || 0) * 0.3);
                        const scoreB = (b.rating * 0.4) + ((b.helpfulVotes || 0) * 0.3) + ((b.likes || 0) * 0.3);
                        return scoreB - scoreA;
                    });
            }
            
            filteredReviews = filtered;
            currentCarouselIndex = 0;
            displayReviews();
            
            log(`Applied filters - ${filtered.length} results`);
        }

        function searchReviews() {
            clearTimeout(debounceTimer);
            debounceTimer = setTimeout(applyFilters, CONFIG.DEBOUNCE_DELAY);
        }

        // =============== STATISTICS UPDATE ===============
        function updateStats(stats) {
            if (!stats) return;
            
            const elements = {
                avgRating: document.getElementById('avgRating'),
                totalReviews: document.getElementById('totalReviews'),
                fiveStarPercent: document.getElementById('fiveStarPercent'),
                recommendPercent: document.getElementById('recommendPercent'),
                verifiedPercent: document.getElementById('verifiedPercent'),
                heroAvgRating: document.getElementById('heroAvgRating'),
                heroTotalReviews: document.getElementById('heroTotalReviews'),
                heroRecommendPercent: document.getElementById('heroRecommendPercent'),
                heroVerifiedPercent: document.getElementById('heroVerifiedPercent')
            };
            
            // Animate numbers
            Object.entries(elements).forEach(([key, element]) => {
                if (!element) return;
                
                let target;
                let suffix = '';
                let decimals = 0;
                
                if (key.includes('Rating')) {
                    target = stats.averageRating || 0;
                    decimals = 1;
                } else if (key.includes('Percent')) {
                    target = stats[key.replace('hero', '').replace('Percent', 'Percent')] || 0;
                    suffix = '%';
                } else {
                    target = stats.totalReviews || 0;
                }
                
                animateNumber(element, target, decimals, suffix);
            });
        }

        function animateNumber(element, target, decimals = 0, suffix = '') {
            if (!element || target === undefined) return;
            
            const duration = 2000; // 2 seconds
            const steps = 60;
            const increment = target / steps;
            let current = 0;
            let step = 0;
            
            const timer = setInterval(() => {
                step++;
                current += increment;
                
                if (step >= steps) {
                    current = target;
                    clearInterval(timer);
                }
                
                element.textContent = current.toFixed(decimals) + suffix;
            }, duration / steps);
        }

        function updateReviewCount() {
            const count = filteredReviews.length;
            const badge = document.getElementById('reviewCountBadge');
            if (badge) {
                badge.textContent = count;
            }
        }

        // =============== INTERACTION HANDLERS ===============
        function likeReview(reviewId) {
            const review = reviews.find(r => r.id === reviewId);
            if (!review) return;
            
            review.likes = (review.likes || 0) + 1;
            
            const likeBtn = document.querySelector(`[onclick="likeReview('${reviewId}')"]`);
            if (likeBtn) {
                likeBtn.classList.add('liked');
                likeBtn.innerHTML = `<i class="fas fa-thumbs-up"></i> ${review.likes}`;
                
                if (navigator.vibrate) {
                    navigator.vibrate(30);
                }
            }
            
            log(`Review ${reviewId} liked`);
        }

        // =============== UTILITY FUNCTIONS ===============
        function switchTab(tabName) {
            // Update tab buttons
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            const activeBtn = document.getElementById(tabName + 'TabBtn');
            if (activeBtn) activeBtn.classList.add('active');

            // Update tab content
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            const targetTab = document.getElementById(tabName + 'Tab');
            if (targetTab) targetTab.classList.add('active');

            // Tab-specific actions
            if (tabName === 'read') {
                loadReviews();
                setTimeout(startAutoRotation, 1000);
            } else {
                stopAutoRotation();
            }
            
            log(`Tab switched to: ${tabName}`);
        }

        function showAlert(message, type) {
            const alertContainer = document.getElementById('formAlert');
            if (!alertContainer) return;
            
            const iconMap = {
                success: 'fas fa-check-circle',
                error: 'fas fa-exclamation-circle',
                warning: 'fas fa-exclamation-triangle',
                info: 'fas fa-info-circle'
            };
            
            alertContainer.innerHTML = `
                <div class="alert alert-${type}">
                    <i class="${iconMap[type]}"></i>
                    ${message}
                </div>
            `;
            
            setTimeout(() => {
                alertContainer.innerHTML = '';
            }, type === 'success' ? 8000 : 6000);
            
            alertContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        function updateConnectionStatus() {
            const indicator = document.getElementById('statusIndicator');
            if (!indicator) return;
            
            if (navigator.onLine) {
                indicator.className = 'status-indicator online';
                indicator.innerHTML = '<i class="fas fa-circle"></i> <span>System Online</span>';
            } else {
                indicator.className = 'status-indicator error';
                indicator.innerHTML = '<i class="fas fa-exclamation-circle"></i> <span>Offline</span>';
            }
        }

        function handleKeyboardShortcuts(e) {
            // Only handle when reviews tab is active
            if (document.getElementById('readTab').classList.contains('active')) {
                if (e.key === 'ArrowLeft') {
                    e.preventDefault();
                    previousReview();
                } else if (e.key === 'ArrowRight') {
                    e.preventDefault();
                    nextReview();
                }
            }
            
            // Tab switching
            if (e.altKey && e.key === '1') {
                e.preventDefault();
                switchTab('write');
            } else if (e.altKey && e.key === '2') {
                e.preventDefault();
                switchTab('read');
            }
        }

        function log(...args) {
            if (CONFIG.DEBUG) {
                console.log('[Reviews System]', ...args);
            }
        }

        // =============== ERROR HANDLING ===============
        window.addEventListener('error', (e) => {
            log('Global error:', e.error);
            updateConnectionStatus();
        });

        // =============== PERFORMANCE MONITORING ===============
        window.addEventListener('load', () => {
            setTimeout(() => {
                if (document.getElementById('readTab').classList.contains('active')) {
                    startAutoRotation();
                }
            }, 2000);
            
            log('System fully loaded and ready');
        });
    </script>
</body>
</html>
